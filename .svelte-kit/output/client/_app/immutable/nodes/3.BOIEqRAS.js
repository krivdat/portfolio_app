import{t as y,a as _}from"../chunks/sHUU7htf.js";import{i as C}from"../chunks/CwFfa-KW.js";import{ai as M,j as O,u as Q,h as w,p as E,s as o,c as x,r as k,t as N,a as T,l as z,b as B,f as G,af as H,g as m,m as I,d as J}from"../chunks/X3cm3iuQ.js";import{s as V}from"../chunks/CStnfIlp.js";import{i as U}from"../chunks/BC7-pRYh.js";import{e as K}from"../chunks/DGSPp8P_.js";import{r as p,a as j}from"../chunks/-GocX9d7.js";import{p as S}from"../chunks/AHqh6sfL.js";import"../chunks/CXnXlaW0.js";import{a as L,e as R}from"../chunks/BirUzlQM.js";import{l as W}from"../chunks/Cq2e60h3.js";import{p as X}from"../chunks/CbSzZekf.js";function v(e,i,a=i){var c=M();W(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=A(e)?D(l):l,a(l),c&&l!==(l=i())){var f=e.selectionStart,n=e.selectionEnd;e.value=l??"",n!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(n,e.value.length))}}),(O&&e.defaultValue!==e.value||Q(i)==null&&e.value)&&a(A(e)?D(e.value):e.value),w(()=>{var s=i();A(e)&&s===D(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function A(e){var i=e.type;return i==="number"||i==="range"}function D(e){return e===""?null:+e}var Y=y('<form method="POST"><label for="category">Category:</label> <input type="text" id="category" name="category" required> <label for="name">Name:</label> <input type="text" id="name" name="name" required> <label for="purchasePrice">Purchase Price:</label> <input type="number" id="purchasePrice" name="purchasePrice" required> <label for="purchaseDate">Purchase Date:</label> <input type="date" id="purchaseDate" name="purchaseDate" required> <label for="quantity">Quantity:</label> <input type="number" id="quantity" name="quantity" required> <label for="currency">Currency:</label> <input type="text" id="currency" name="currency" required> <label for="ticker">Ticker:</label> <input type="text" id="ticker" name="ticker"> <button type="submit"> </button></form>');function Z(e,i){E(i,!1);let a=S(i,"asset",28,()=>({category:"",name:"",purchase_price:0,purchase_date:"",quantity:0,currency:"",ticker:""})),c=S(i,"isUpdate",8,!1);C();var s=Y(),l=o(x(s),2);p(l);var f=o(l,4);p(f);var n=o(f,4);p(n);var b=o(n,4);p(b);var h=o(b,4);p(h);var g=o(h,4);p(g);var t=o(g,4);p(t);var u=o(t,2),q=x(u,!0);k(u),k(s),L(s,r=>{var d;return(d=R)==null?void 0:d(r)}),N(()=>{j(s,"action",c()?"?/update":"?/create"),V(q,c()?"Update Asset":"Add Asset")}),v(l,()=>a().category,r=>a(a().category=r,!0)),v(f,()=>a().name,r=>a(a().name=r,!0)),v(n,()=>a().purchase_price,r=>a(a().purchase_price=r,!0)),v(b,()=>a().purchase_date,r=>a(a().purchase_date=r,!0)),v(h,()=>a().quantity,r=>a(a().quantity=r,!0)),v(g,()=>a().currency,r=>a(a().currency=r,!0)),v(t,()=>a().ticker,r=>a(a().ticker=r,!0)),_(e,s),T()}var $=y('<p>Please <a href="/login">login</a> to manage your assets.</p>'),ee=y("<li><a> </a></li>"),ae=y("<ul></ul>"),re=y("<p>No assets found.</p>"),te=y("<h1>Assets</h1> <!> <!>",1);function _e(e,i){E(i,!1);const a=I();let c=S(i,"data",8);z(()=>H(c()),()=>{J(a,c().assets)}),B(),C();var s=te(),l=o(G(s),2);{var f=t=>{Z(t,{})},n=t=>{var u=$();_(t,u)};U(l,t=>{X.data.session?t(f):t(n,!1)})}var b=o(l,2);{var h=t=>{var u=ae();K(u,5,()=>m(a),q=>q.id,(q,r)=>{var d=ee(),P=x(d),F=x(P);k(P),k(d),N(()=>{j(P,"href",`/assets/${m(r).id}`),V(F,`${m(r).name??""} (${m(r).category??""}) - ${m(r).ticker??""}`)}),_(q,d)}),k(u),_(t,u)},g=t=>{var u=re();_(t,u)};U(b,t=>{m(a)&&m(a).length>0?t(h):t(g,!1)})}_(e,s),T()}export{_e as component};
